var Be=Object.defineProperty;var Re=(t,e,n)=>e in t?Be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fe=(t,e,n)=>(Re(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function O(){}function Je(t){return t()}function ge(){return Object.create(null)}function K(t){t.forEach(Je)}function he(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Fe(t){return Object.keys(t).length===0}function Ge(t,...e){if(t==null){for(const s of e)s(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function T(t,e,n){t.$$.on_destroy.push(Ge(e,n))}function U(t){return t??""}function w(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function P(){return H(" ")}function De(){return H("")}function q(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function Ve(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function We(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.data!==e&&(t.data=e)}function me(t,e){t.value=e??""}let pe;function Z(t){pe=t}const D=[],ye=[];let W=[];const ve=[],Te=Promise.resolve();let ae=!1;function Ke(){ae||(ae=!0,Te.then(Ce))}function de(t){W.push(t)}const ce=new Set;let B=0;function Ce(){if(B!==0)return;const t=pe;do{try{for(;B<D.length;){const e=D[B];B++,Z(e),He(e.$$)}}catch(e){throw D.length=0,B=0,e}for(Z(null),D.length=0,B=0;ye.length;)ye.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];ce.has(n)||(ce.add(n),n())}W.length=0}while(D.length);for(;ve.length;)ve.pop()();ae=!1,ce.clear(),Z(t)}function He(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function Qe(t){const e=[],n=[];W.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),W=e}const le=new Set;let Xe;function I(t,e){t&&t.i&&(le.delete(t),t.i(e))}function R(t,e,n,s){if(t&&t.o){if(le.has(t))return;le.add(t),Xe.c.push(()=>{le.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ee(t,e){t.d(1),e.delete(t.key)}function te(t,e,n,s,l,r,f,a,i,o,u,d){let c=t.length,_=r.length,p=c;const A={};for(;p--;)A[t[p].key]=p;const L=[],m=new Map,y=new Map,h=[];for(p=_;p--;){const v=d(l,r,p),E=n(v);let S=f.get(E);S?s&&h.push(()=>S.p(v,e)):(S=o(E,v),S.c()),m.set(E,L[p]=S),E in A&&y.set(E,Math.abs(p-A[E]))}const j=new Set,X=new Set;function Y(v){I(v,1),v.m(a,u),f.set(v.key,v),u=v.first,_--}for(;c&&_;){const v=L[_-1],E=t[c-1],S=v.key,ne=E.key;v===E?(u=v.first,c--,_--):m.has(ne)?!f.has(S)||j.has(S)?Y(v):X.has(ne)?c--:y.get(S)>y.get(ne)?(X.add(S),Y(v)):(j.add(ne),c--):(i(E,f),c--)}for(;c--;){const v=t[c];m.has(v.key)||i(v,f)}for(;_;)Y(L[_-1]);return K(h),L}function F(t){t&&t.c()}function J(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),de(()=>{const r=t.$$.on_mount.map(Je).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...r):K(r),t.$$.on_mount=[]}),l.forEach(de)}function C(t,e){const n=t.$$;n.fragment!==null&&(Qe(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ze(t,e){t.$$.dirty[0]===-1&&(D.push(t),Ke(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function re(t,e,n,s,l,r,f=null,a=[-1]){const i=pe;Z(t);const o=t.$$={fragment:null,ctx:[],props:r,update:O,not_equal:l,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:ge(),dirty:a,skip_bound:!1,root:e.target||i.$$.root};f&&f(o.root);let u=!1;if(o.ctx=n?n(t,e.props||{},(d,c,..._)=>{const p=_.length?_[0]:c;return o.ctx&&l(o.ctx[d],o.ctx[d]=p)&&(!o.skip_bound&&o.bound[d]&&o.bound[d](p),u&&Ze(t,d)),c}):[],o.update(),u=!0,K(o.before_update),o.fragment=s?s(o.ctx):!1,e.target){if(e.hydrate){const d=We(e.target);o.fragment&&o.fragment.l(d),d.forEach($)}else o.fragment&&o.fragment.c();e.intro&&I(t.$$.fragment),J(t,e.target,e.anchor),Ce()}Z(i)}class oe{constructor(){fe(this,"$$");fe(this,"$$set")}$destroy(){C(this,1),this.$destroy=O}$on(e,n){if(!he(n))return O;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!Fe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xe);const G=[];function Q(t,e=O){let n;const s=new Set;function l(a){if(x(t,a)&&(t=a,n)){const i=!G.length;for(const o of s)o[1](),G.push(o,t);if(i){for(let o=0;o<G.length;o+=2)G[o][0](G[o+1]);G.length=0}}}function r(a){l(a(t))}function f(a,i=O){const o=[a,i];return s.add(o),s.size===1&&(n=e(l,r)||O),a(t),()=>{s.delete(o),s.size===0&&n&&(n(),n=null)}}return{set:l,update:r,subscribe:f}}const et=t=>{const e=[];t.forEach(n=>e.push(n));for(let n=0;n<3;n++){const s=[];for(let l=0;l<3;l++)s.push(t[l][n]);e.push(s)}return e.push([t[0][0],t[1][1],t[2][2]]),e.push([t[0][2],t[1][1],t[2][0]]),e},tt=t=>{let e=[];for(let n=0;n<3;n++)if(n==0)for(let s=0;s<t[n].length;s++)e.push(t[n][s]);else{const s=[];for(let l=0;l<e.length;l++){const r=e[l];t[n].find(f=>f[0]==r[0]&&f[1]==r[1])||s.push(r)}e=e.filter(l=>s.find(r=>r===l)==null)}if(e.length)return M.set(!0),t},nt=t=>{let e;return t.forEach(n=>n.forEach(s=>{s.length==3&&s.every(l=>l[1]==s[0][1])&&(M.set(!0),e=[s])})),e},st=t=>{const e=t[0].filter(n=>n[0]==0||n[0]==2);for(const n of e)if(e&&t[1].find(s=>s[1]==n[1]&&s[0]==1)&&t[2].find(s=>s[1]==n[1]&&s[0]==(n[0]==0?2:0)))return M.set(!0),t},ue=Q([[[],[],[]],[[],[],[]],[[],[],[]]]),M=Q(!1),Ue=Q(null),Ye=Q(null),_e=Q(null),be=(t,e)=>{let n=!0;return ue.update(s=>s[e[1]][e[0]].find(r=>r[0]===t[0])?(n=!1,s):(s[e[1]][e[0]].push(t),lt(s),s)),n},lt=t=>{let e;const n=et(t);for(const l of n){if(e!=null)break;e=tt(l)}e==null&&(e=nt(t));for(const l of n){if(e!=null)break;e=st(l)}e!==void 0&&(M.set(!0),Ue.set(e));let s=!0;t.forEach(l=>{l.every(r=>r.length==3)||(s=!1)}),s&&M.set("draw")},it="_board_695sf_1",rt="_y_695sf_10",ot="_x_695sf_14",ut="_active_695sf_28",V={board:it,y:rt,x:ot,active:ut};function we(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function $e(t,e,n){const s=t.slice();return s[9]=e[n],s[11]=n,s}function ke(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function Oe(t,e){let n,s;return{key:t,first:null,c(){n=b("div"),g(n,"style",s=`--color: ${e[12][1]};--size:${e[12][0]}`),this.first=n},m(l,r){k(l,n,r)},p(l,r){e=l,r&1&&s!==(s=`--color: ${e[12][1]};--size:${e[12][0]}`)&&g(n,"style",s)},d(l){l&&$(n)}}}function Ee(t,e){let n,s=[],l=new Map,r,f,a,i=z(e[9]);const o=c=>c[14];for(let c=0;c<i.length;c+=1){let _=ke(e,i,c),p=o(_);l.set(p,s[c]=Oe(p,_))}function u(...c){return e[3](e[9],...c)}function d(){return e[4](e[11],e[8])}return{key:t,first:null,c(){var c;n=b("span");for(let _=0;_<s.length;_+=1)s[_].c();g(n,"class",r=`${V.x} ${((c=e[1])==null?void 0:c.find(u))&&V.active}`),this.first=n},m(c,_){k(c,n,_);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);f||(a=q(n,"mouseenter",d),f=!0)},p(c,_){var p;e=c,_&1&&(i=z(e[9]),s=te(s,_,o,1,e,i,l,n,ee,Oe,null,ke)),_&3&&r!==(r=`${V.x} ${((p=e[1])==null?void 0:p.find(u))&&V.active}`)&&g(n,"class",r)},d(c){c&&$(n);for(let _=0;_<s.length;_+=1)s[_].d();f=!1,a()}}}function Se(t,e){let n,s=[],l=new Map,r,f=z(e[6]);const a=i=>i[11];for(let i=0;i<f.length;i+=1){let o=$e(e,f,i),u=a(o);l.set(u,s[i]=Ee(u,o))}return{key:t,first:null,c(){n=b("div");for(let i=0;i<s.length;i+=1)s[i].c();r=P(),g(n,"class",V.y),this.first=n},m(i,o){k(i,n,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(n,null);w(n,r)},p(i,o){e=i,o&7&&(f=z(e[6]),s=te(s,o,a,1,e,f,l,n,ee,Ee,r,$e))},d(i){i&&$(n);for(let o=0;o<s.length;o+=1)s[o].d()}}}function ft(t){let e,n=[],s=new Map,l,r,f=z(t[0]);const a=i=>i[8];for(let i=0;i<f.length;i+=1){let o=we(t,f,i),u=a(o);s.set(u,n[i]=Se(u,o))}return{c(){e=b("div");for(let i=0;i<n.length;i+=1)n[i].c();g(e,"class",V.board)},m(i,o){k(i,e,o);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);l||(r=q(e,"mouseleave",t[5]),l=!0)},p(i,[o]){o&7&&(f=z(i[0]),n=te(n,o,a,1,i,f,s,e,ee,Se,null,we))},i:O,o:O,d(i){i&&$(e);for(let o=0;o<n.length;o+=1)n[o].d();l=!1,r()}}}function ct(t,e,n){let s,l;T(t,ue,o=>n(0,s=o)),T(t,Ue,o=>n(1,l=o));const r=(o,u)=>{_e.set([o,u])};return[s,l,r,(o,u)=>u==o,(o,u)=>r(o,u),()=>_e.set(null)]}class at extends oe{constructor(e){super(),re(this,e,ct,ft,x,{})}}const N=Q({id:"",joined:"",turn:!1,isPlaying:!1});function Le(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function je(t,e,n){const s=t.slice();return s[11]=e[n][0],s[1]=e[n][1],s}function Pe(t,e){let n,s,l,r,f;function a(...i){return e[6](e[10],e[11],...i)}return{key:t,first:null,c(){n=b("div"),g(n,"style",s=`--color: ${e[1]};--size:${e[11]}`),g(n,"class",l=U(`${e[3].index==e[10]&&e[3].size==e[11]&&"hidden"}`)+" svelte-1idn2yf"),this.first=n},m(i,o){k(i,n,o),r||(f=q(n,"mousedown",a),r=!0)},p(i,o){e=i,o&4&&s!==(s=`--color: ${e[1]};--size:${e[11]}`)&&g(n,"style",s),o&12&&l!==(l=U(`${e[3].index==e[10]&&e[3].size==e[11]&&"hidden"}`)+" svelte-1idn2yf")&&g(n,"class",l)},d(i){i&&$(n),r=!1,f()}}}function Ne(t,e){let n,s=[],l=new Map,r,f=z(e[8]);const a=i=>i[11];for(let i=0;i<f.length;i+=1){let o=je(e,f,i),u=a(o);l.set(u,s[i]=Pe(u,o))}return{key:t,first:null,c(){n=b("span");for(let i=0;i<s.length;i+=1)s[i].c();r=P(),g(n,"class","ring svelte-1idn2yf"),this.first=n},m(i,o){k(i,n,o);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(n,null);w(n,r)},p(i,o){e=i,o&28&&(f=z(e[8]),s=te(s,o,a,1,e,f,l,n,ee,Pe,r,je))},d(i){i&&$(n);for(let o=0;o<s.length;o+=1)s[o].d()}}}function ze(t){let e,n;return{c(){e=b("div"),g(e,"class","selected svelte-1idn2yf"),g(e,"style",n=`--color: ${t[1]};--size:${t[3].size};--x:${t[3].x}px;--y:${t[3].y}px`)},m(s,l){k(s,e,l)},p(s,l){l&10&&n!==(n=`--color: ${s[1]};--size:${s[3].size};--x:${s[3].x}px;--y:${s[3].y}px`)&&g(e,"style",n)},d(s){s&&$(e)}}}function dt(t){let e,n=[],s=new Map,l,r,f,a=z(t[2]);const i=u=>u[10];for(let u=0;u<a.length;u+=1){let d=Le(t,a,u),c=i(d);s.set(c,n[u]=Ne(c,d))}let o=t[3].index!==null&&ze(t);return{c(){e=b("div");for(let u=0;u<n.length;u+=1)n[u].c();r=P(),o&&o.c(),f=De(),g(e,"class",l=U(`rings ${t[0]?"vertical":""}`)+" svelte-1idn2yf")},m(u,d){k(u,e,d);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);k(u,r,d),o&&o.m(u,d),k(u,f,d)},p(u,[d]){d&28&&(a=z(u[2]),n=te(n,d,i,1,u,a,s,e,ee,Ne,null,Le)),d&1&&l!==(l=U(`rings ${u[0]?"vertical":""}`)+" svelte-1idn2yf")&&g(e,"class",l),u[3].index!==null?o?o.p(u,d):(o=ze(u),o.c(),o.m(f.parentNode,f)):o&&(o.d(1),o=null)},i:O,o:O,d(u){u&&($(e),$(r),$(f));for(let d=0;d<n.length;d+=1)n[d].d();o&&o.d(u)}}}function _t(t,e,n){let s;T(t,_e,d=>n(7,s=d));let{ws:l}=e,{color:r="red"}=e,{y:f=!1}=e,a=Array.from({length:3}).map(d=>[[2,r],[1,r],[0,r]]);ue.subscribe(d=>{let c=!0;d.forEach(_=>_.forEach(p=>{p.length!==0&&(c=!1)})),c&&n(2,a=Array.from({length:3}).map(_=>[[2,r],[1,r],[0,r]]))});let i={index:null,size:0,x:0,y:0};Ye.subscribe(d=>{!d||d.item[1]!==r||(n(2,a[d.index]=a[d.index].filter(c=>c[0]!==d.item[0]),a),be(d.item,d.ringField))});const o=(d,c,_)=>{n(3,i.index=d,i),n(3,i.size=c,i);const{x:p,y:A}=_.target.getBoundingClientRect();n(3,i.x=p,i),n(3,i.y=A,i);const L=m=>{n(3,i.x=m.x,i),n(3,i.y=m.y,i)};document.addEventListener("mousemove",L),document.onmouseup=()=>{document.removeEventListener("mousemove",L),s!==null&&i.index!==null&&n(2,a[i.index]=a[i.index].filter(m=>{if(m[0]===i.size){const y=be(m,s);return y&&N.update(h=>(h.turn=!h.turn,h)),l.send(JSON.stringify({action:"step",data:{item:m,ringField:s,index:i.index}})),!y}return!0}),a),n(3,i.index=null,i)}},u=(d,c,_)=>o(d,c,_);return t.$$set=d=>{"ws"in d&&n(5,l=d.ws),"color"in d&&n(1,r=d.color),"y"in d&&n(0,f=d.y)},[f,r,a,i,o,l,u]}class se extends oe{constructor(e){super(),re(this,e,_t,dt,x,{ws:5,color:1,y:0})}}function ht(t){let e,n=t[2].joined?"LEAVE":"JOIN",s,l,r,f;return{c(){e=b("button"),s=H(n),g(e,"class",l=U(t[2].joined?"leave":"")+" svelte-19q5ve5")},m(a,i){k(a,e,i),w(e,s),r||(f=q(e,"click",function(){he(t[2].joined?t[5]:t[4])&&(t[2].joined?t[5]:t[4]).apply(this,arguments)}),r=!0)},p(a,i){t=a,i&4&&n!==(n=t[2].joined?"LEAVE":"JOIN")&&ie(s,n),i&4&&l!==(l=U(t[2].joined?"leave":"")+" svelte-19q5ve5")&&g(e,"class",l)},d(a){a&&$(e),r=!1,f()}}}function pt(t){let e,n,s,l;return{c(){e=b("form"),n=b("input"),g(n,"type","text"),g(n,"placeholder","User id"),g(n,"class","svelte-19q5ve5"),g(e,"class","svelte-19q5ve5")},m(r,f){k(r,e,f),w(e,n),me(n,t[1]),s||(l=[q(n,"input",t[8]),q(e,"submit",Ve(t[6]))],s=!0)},p(r,f){f&2&&n.value!==r[1]&&me(n,r[1])},d(r){r&&$(e),s=!1,K(l)}}}function gt(t){let e,n,s,l=t[2].id+"",r,f,a,i;function o(c,_){return c[0]?pt:ht}let u=o(t),d=u(t);return{c(){e=b("div"),n=b("span"),s=b("b"),s.textContent="ID:",r=H(l),f=P(),d.c(),g(s,"class","svelte-19q5ve5"),g(n,"title","copy"),g(n,"class","svelte-19q5ve5"),g(e,"class","user svelte-19q5ve5")},m(c,_){k(c,e,_),w(e,n),w(n,s),w(n,r),w(e,f),d.m(e,null),a||(i=q(n,"click",t[3]),a=!0)},p(c,[_]){_&4&&l!==(l=c[2].id+"")&&ie(r,l),u===(u=o(c))&&d?d.p(c,_):(d.d(1),d=u(c),d&&(d.c(),d.m(e,null)))},i:O,o:O,d(c){c&&$(e),d.d(),a=!1,i()}}}function mt(t,e,n){let s;T(t,N,c=>n(2,s=c));let{ws:l}=e,r=!1,f="";const a=()=>{navigator.clipboard.writeText(s.id)},i=()=>{n(0,r=!0)},o=()=>{l.send(JSON.stringify({action:"leave"}))},u=()=>{l.send(JSON.stringify({action:"join",data:f})),n(0,r=!1),n(1,f="")};function d(){f=this.value,n(1,f)}return t.$$set=c=>{"ws"in c&&n(7,l=c.ws)},[r,f,s,a,i,o,u,l,d]}class yt extends oe{constructor(e){super(),re(this,e,mt,gt,x,{ws:7})}}const vt=t=>{if(typeof t.data=="string"){const{action:e,data:n}=JSON.parse(t.data);switch(e){case"connect":N.update(s=>(s.id=n,s));break;case"join":n&&N.update(s=>(s.joined=n,s));break;case"leave":N.update(s=>(s.joined="",s.isPlaying=!1,s));break;case"step":Ye.set(n),N.update(s=>(s.turn=!s.turn,s));break;case"start":N.update(s=>(s.turn=n,s.isPlaying=!0,s)),M.update(s=>!1),ue.set([[[],[],[]],[[],[],[]],[[],[],[]]]);break}return}t.data.text().then(e=>{console.log(e)})};function Ae(t){let e,n=t[1].turn?"Your turn":"Opponent's turn",s;return{c(){e=b("div"),s=H(n),g(e,"class","turn svelte-1un3ks4")},m(l,r){k(l,e,r),w(e,s)},p(l,r){r&2&&n!==(n=l[1].turn?"Your turn":"Opponent's turn")&&ie(s,n)},d(l){l&&$(e)}}}function Ie(t){let e,n,s=!t[1].isPlaying&&t[1].joined&&qe(t),l=t[2]&&Me(t);return{c(){e=b("div"),s&&s.c(),n=P(),l&&l.c(),g(e,"class",U("block")+" svelte-1un3ks4")},m(r,f){k(r,e,f),s&&s.m(e,null),w(e,n),l&&l.m(e,null)},p(r,f){!r[1].isPlaying&&r[1].joined?s?s.p(r,f):(s=qe(r),s.c(),s.m(e,n)):s&&(s.d(1),s=null),r[2]?l?l.p(r,f):(l=Me(r),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(r){r&&$(e),s&&s.d(),l&&l.d()}}}function qe(t){let e,n,s;return{c(){e=b("button"),e.textContent="PLAY",g(e,"class","play svelte-1un3ks4")},m(l,r){k(l,e,r),n||(s=q(e,"click",t[3]),n=!0)},p:O,d(l){l&&$(e),n=!1,s()}}}function Me(t){let e,n=t[1].turn?"😥 YOU LOSE":"🏆 YOU WIN",s;return{c(){e=b("p"),s=H(n),g(e,"class","winMessage svelte-1un3ks4")},m(l,r){k(l,e,r),w(e,s)},p(l,r){r&2&&n!==(n=l[1].turn?"😥 YOU LOSE":"🏆 YOU WIN")&&ie(s,n)},d(l){l&&$(e)}}}function bt(t){let e,n,s,l,r,f,a,i,o,u,d,c,_,p,A,L;n=new yt({props:{ws:t[0]}}),l=new se({props:{ws:t[0],color:"green"}});let m=t[1].isPlaying&&Ae(t);i=new se({props:{ws:t[0],y:!0,color:"red"}}),u=new at({}),c=new se({props:{ws:t[0],y:!0,color:"yellow"}}),p=new se({props:{ws:t[0],color:"blue"}});let y=(t[2]||!t[1].isPlaying||!t[1].turn)&&Ie(t);return{c(){e=b("main"),F(n.$$.fragment),s=P(),F(l.$$.fragment),r=P(),m&&m.c(),f=P(),a=b("div"),F(i.$$.fragment),o=P(),F(u.$$.fragment),d=P(),F(c.$$.fragment),_=P(),F(p.$$.fragment),A=P(),y&&y.c(),g(a,"class","wrapper svelte-1un3ks4"),g(e,"class","svelte-1un3ks4")},m(h,j){k(h,e,j),J(n,e,null),w(e,s),J(l,e,null),w(e,r),m&&m.m(e,null),w(e,f),w(e,a),J(i,a,null),w(a,o),J(u,a,null),w(a,d),J(c,a,null),w(e,_),J(p,e,null),w(e,A),y&&y.m(e,null),L=!0},p(h,[j]){const X={};j&1&&(X.ws=h[0]),n.$set(X);const Y={};j&1&&(Y.ws=h[0]),l.$set(Y),h[1].isPlaying?m?m.p(h,j):(m=Ae(h),m.c(),m.m(e,f)):m&&(m.d(1),m=null);const v={};j&1&&(v.ws=h[0]),i.$set(v);const E={};j&1&&(E.ws=h[0]),c.$set(E);const S={};j&1&&(S.ws=h[0]),p.$set(S),h[2]||!h[1].isPlaying||!h[1].turn?y?y.p(h,j):(y=Ie(h),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(h){L||(I(n.$$.fragment,h),I(l.$$.fragment,h),I(i.$$.fragment,h),I(u.$$.fragment,h),I(c.$$.fragment,h),I(p.$$.fragment,h),L=!0)},o(h){R(n.$$.fragment,h),R(l.$$.fragment,h),R(i.$$.fragment,h),R(u.$$.fragment,h),R(c.$$.fragment,h),R(p.$$.fragment,h),L=!1},d(h){h&&$(e),C(n),C(l),m&&m.d(),C(i),C(u),C(c),C(p),y&&y.d()}}}function wt(t,e,n){let s,l;T(t,N,a=>n(1,s=a)),T(t,M,a=>n(2,l=a));const r=new WebSocket("ws://localhost:8080"),f=()=>{N.update(a=>(a.isPlaying=!0,a)),r.send(JSON.stringify({action:"start"}))};return M.subscribe(a=>{a&&N.update(i=>(i.isPlaying=!1,i))}),r.onmessage=vt,[r,s,l,f]}class $t extends oe{constructor(e){super(),re(this,e,wt,bt,x,{})}}new $t({target:document.getElementById("app")});
