var Re=Object.defineProperty;var Fe=(t,e,n)=>e in t?Re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ce=(t,e,n)=>(Fe(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function O(){}function Je(t){return t()}function ge(){return Object.create(null)}function K(t){t.forEach(Je)}function pe(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ge(t){return Object.keys(t).length===0}function De(t,...e){if(t==null){for(const s of e)s(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function T(t,e,n){t.$$.on_destroy.push(De(e,n))}function U(t){return t??""}function w(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function b(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function N(){return H(" ")}function Ve(){return H("")}function q(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function We(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Te(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function ye(t,e){t.value=e??""}let me;function Z(t){me=t}const D=[],ve=[];let W=[];const be=[],Ke=Promise.resolve();let de=!1;function He(){de||(de=!0,Ke.then(Ue))}function _e(t){W.push(t)}const ae=new Set;let B=0;function Ue(){if(B!==0)return;const t=me;do{try{for(;B<D.length;){const e=D[B];B++,Z(e),Qe(e.$$)}}catch(e){throw D.length=0,B=0,e}for(Z(null),D.length=0,B=0;ve.length;)ve.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];ae.has(n)||(ae.add(n),n())}W.length=0}while(D.length);for(;be.length;)be.pop()();de=!1,ae.clear(),Z(t)}function Qe(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}function Xe(t){const e=[],n=[];W.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),W=e}const le=new Set;let Ze;function A(t,e){t&&t.i&&(le.delete(t),t.i(e))}function R(t,e,n,s){if(t&&t.o){if(le.has(t))return;le.add(t),Ze.c.push(()=>{le.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ee(t,e){t.d(1),e.delete(t.key)}function te(t,e,n,s,l,i,u,d,r,o,f,a){let c=t.length,_=i.length,p=c;const I={};for(;p--;)I[t[p].key]=p;const L=[],g=new Map,y=new Map,h=[];for(p=_;p--;){const v=a(l,i,p),E=n(v);let S=u.get(E);S?s&&h.push(()=>S.p(v,e)):(S=o(E,v),S.c()),g.set(E,L[p]=S),E in I&&y.set(E,Math.abs(p-I[E]))}const j=new Set,X=new Set;function Y(v){A(v,1),v.m(d,f),u.set(v.key,v),f=v.first,_--}for(;c&&_;){const v=L[_-1],E=t[c-1],S=v.key,ne=E.key;v===E?(f=v.first,c--,_--):g.has(ne)?!u.has(S)||j.has(S)?Y(v):X.has(ne)?c--:y.get(S)>y.get(ne)?(X.add(S),Y(v)):(j.add(ne),c--):(r(E,u),c--)}for(;c--;){const v=t[c];g.has(v.key)||r(v,u)}for(;_;)Y(L[_-1]);return K(h),L}function F(t){t&&t.c()}function C(t,e,n){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,n),_e(()=>{const i=t.$$.on_mount.map(Je).filter(pe);t.$$.on_destroy?t.$$.on_destroy.push(...i):K(i),t.$$.on_mount=[]}),l.forEach(_e)}function J(t,e){const n=t.$$;n.fragment!==null&&(Xe(n.after_update),K(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xe(t,e){t.$$.dirty[0]===-1&&(D.push(t),He(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function oe(t,e,n,s,l,i,u=null,d=[-1]){const r=me;Z(t);const o=t.$$={fragment:null,ctx:[],props:i,update:O,not_equal:l,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:ge(),dirty:d,skip_bound:!1,root:e.target||r.$$.root};u&&u(o.root);let f=!1;if(o.ctx=n?n(t,e.props||{},(a,c,..._)=>{const p=_.length?_[0]:c;return o.ctx&&l(o.ctx[a],o.ctx[a]=p)&&(!o.skip_bound&&o.bound[a]&&o.bound[a](p),f&&xe(t,a)),c}):[],o.update(),f=!0,K(o.before_update),o.fragment=s?s(o.ctx):!1,e.target){if(e.hydrate){const a=Te(e.target);o.fragment&&o.fragment.l(a),a.forEach($)}else o.fragment&&o.fragment.c();e.intro&&A(t.$$.fragment),C(t,e.target,e.anchor),Ue()}Z(r)}class ue{constructor(){ce(this,"$$");ce(this,"$$set")}$destroy(){J(this,1),this.$destroy=O}$on(e,n){if(!pe(n))return O;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!Ge(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const et="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(et);const G=[];function Q(t,e=O){let n;const s=new Set;function l(d){if(x(t,d)&&(t=d,n)){const r=!G.length;for(const o of s)o[1](),G.push(o,t);if(r){for(let o=0;o<G.length;o+=2)G[o][0](G[o+1]);G.length=0}}}function i(d){l(d(t))}function u(d,r=O){const o=[d,r];return s.add(o),s.size===1&&(n=e(l,i)||O),d(t),()=>{s.delete(o),s.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:u}}const tt=t=>{const e=[];t.forEach(n=>e.push(n));for(let n=0;n<3;n++){const s=[];for(let l=0;l<3;l++)s.push(t[l][n]);e.push(s)}return e.push([t[0][0],t[1][1],t[2][2]]),e.push([t[0][2],t[1][1],t[2][0]]),e},nt=t=>{let e=[];for(let n=0;n<3;n++)if(n==0)for(let s=0;s<t[n].length;s++)e.push(t[n][s]);else{const s=[];for(let l=0;l<e.length;l++){const i=e[l];t[n].find(u=>u[0]==i[0]&&u[1]==i[1])||s.push(i)}e=e.filter(l=>s.find(i=>i===l)==null)}if(e.length)return M.set(!0),t},st=t=>{let e;return t.forEach(n=>n.forEach(s=>{s.length==3&&s.every(l=>l[1]==s[0][1])&&(M.set(!0),e=[s])})),e},lt=t=>{const e=t[0].filter(n=>n[0]==0||n[0]==2);for(const n of e)if(e&&t[1].find(s=>s[1]==n[1]&&s[0]==1)&&t[2].find(s=>s[1]==n[1]&&s[0]==(n[0]==0?2:0)))return M.set(!0),t},fe=Q([[[],[],[]],[[],[],[]],[[],[],[]]]),M=Q(!1),Ye=Q(null),Be=Q(null),he=Q(null),we=(t,e)=>{let n=!0;return fe.update(s=>s[e[1]][e[0]].find(i=>i[0]===t[0])?(n=!1,s):(s[e[1]][e[0]].push(t),it(s),s)),n},it=t=>{let e;const n=tt(t);for(const l of n){if(e!=null)break;e=nt(l)}e==null&&(e=st(t));for(const l of n){if(e!=null)break;e=lt(l)}e!==void 0&&(M.set(!0),Ye.set(e));let s=!0;t.forEach(l=>{l.every(i=>i.length==3)||(s=!1)}),s&&M.set("draw")},rt="_board_695sf_1",ot="_y_695sf_10",ut="_x_695sf_14",ft="_active_695sf_28",V={board:rt,y:ot,x:ut,active:ft};function $e(t,e,n){const s=t.slice();return s[6]=e[n],s[8]=n,s}function ke(t,e,n){const s=t.slice();return s[9]=e[n],s[11]=n,s}function Oe(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function Ee(t,e){let n,s;return{key:t,first:null,c(){n=b("div"),m(n,"style",s=`--color: ${e[12][1]};--size:${e[12][0]}`),this.first=n},m(l,i){k(l,n,i)},p(l,i){e=l,i&1&&s!==(s=`--color: ${e[12][1]};--size:${e[12][0]}`)&&m(n,"style",s)},d(l){l&&$(n)}}}function Se(t,e){let n,s=[],l=new Map,i,u,d,r=z(e[9]);const o=c=>c[14];for(let c=0;c<r.length;c+=1){let _=Oe(e,r,c),p=o(_);l.set(p,s[c]=Ee(p,_))}function f(...c){return e[3](e[9],...c)}function a(){return e[4](e[11],e[8])}return{key:t,first:null,c(){var c;n=b("span");for(let _=0;_<s.length;_+=1)s[_].c();m(n,"class",i=`${V.x} ${((c=e[1])==null?void 0:c.find(f))&&V.active}`),this.first=n},m(c,_){k(c,n,_);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);u||(d=q(n,"mouseenter",a),u=!0)},p(c,_){var p;e=c,_&1&&(r=z(e[9]),s=te(s,_,o,1,e,r,l,n,ee,Ee,null,Oe)),_&3&&i!==(i=`${V.x} ${((p=e[1])==null?void 0:p.find(f))&&V.active}`)&&m(n,"class",i)},d(c){c&&$(n);for(let _=0;_<s.length;_+=1)s[_].d();u=!1,d()}}}function Le(t,e){let n,s=[],l=new Map,i,u=z(e[6]);const d=r=>r[11];for(let r=0;r<u.length;r+=1){let o=ke(e,u,r),f=d(o);l.set(f,s[r]=Se(f,o))}return{key:t,first:null,c(){n=b("div");for(let r=0;r<s.length;r+=1)s[r].c();i=N(),m(n,"class",V.y),this.first=n},m(r,o){k(r,n,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);w(n,i)},p(r,o){e=r,o&7&&(u=z(e[6]),s=te(s,o,d,1,e,u,l,n,ee,Se,i,ke))},d(r){r&&$(n);for(let o=0;o<s.length;o+=1)s[o].d()}}}function ct(t){let e,n=[],s=new Map,l,i,u=z(t[0]);const d=r=>r[8];for(let r=0;r<u.length;r+=1){let o=$e(t,u,r),f=d(o);s.set(f,n[r]=Le(f,o))}return{c(){e=b("div");for(let r=0;r<n.length;r+=1)n[r].c();m(e,"class",V.board)},m(r,o){k(r,e,o);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);l||(i=q(e,"mouseleave",t[5]),l=!0)},p(r,[o]){o&7&&(u=z(r[0]),n=te(n,o,d,1,r,u,s,e,ee,Le,null,$e))},i:O,o:O,d(r){r&&$(e);for(let o=0;o<n.length;o+=1)n[o].d();l=!1,i()}}}function at(t,e,n){let s,l;T(t,fe,o=>n(0,s=o)),T(t,Ye,o=>n(1,l=o));const i=(o,f)=>{he.set([o,f])};return[s,l,i,(o,f)=>f==o,(o,f)=>i(o,f),()=>he.set(null)]}class dt extends ue{constructor(e){super(),oe(this,e,at,ct,x,{})}}const P=Q({id:"",joined:"",turn:!1,isPlaying:!1});function je(t,e,n){const s=t.slice();return s[8]=e[n],s[10]=n,s}function Ne(t,e,n){const s=t.slice();return s[11]=e[n][0],s[1]=e[n][1],s}function Pe(t,e){let n,s,l,i,u;function d(...r){return e[6](e[10],e[11],...r)}return{key:t,first:null,c(){n=b("div"),m(n,"style",s=`--color: ${e[1]};--size:${e[11]}`),m(n,"class",l=U(`${e[3].index==e[10]&&e[3].size==e[11]&&"hidden"}`)+" svelte-1idn2yf"),this.first=n},m(r,o){k(r,n,o),i||(u=q(n,"mousedown",d),i=!0)},p(r,o){e=r,o&4&&s!==(s=`--color: ${e[1]};--size:${e[11]}`)&&m(n,"style",s),o&12&&l!==(l=U(`${e[3].index==e[10]&&e[3].size==e[11]&&"hidden"}`)+" svelte-1idn2yf")&&m(n,"class",l)},d(r){r&&$(n),i=!1,u()}}}function ze(t,e){let n,s=[],l=new Map,i,u=z(e[8]);const d=r=>r[11];for(let r=0;r<u.length;r+=1){let o=Ne(e,u,r),f=d(o);l.set(f,s[r]=Pe(f,o))}return{key:t,first:null,c(){n=b("span");for(let r=0;r<s.length;r+=1)s[r].c();i=N(),m(n,"class","ring svelte-1idn2yf"),this.first=n},m(r,o){k(r,n,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);w(n,i)},p(r,o){e=r,o&28&&(u=z(e[8]),s=te(s,o,d,1,e,u,l,n,ee,Pe,i,Ne))},d(r){r&&$(n);for(let o=0;o<s.length;o+=1)s[o].d()}}}function Ie(t){let e,n;return{c(){e=b("div"),m(e,"class","selected svelte-1idn2yf"),m(e,"style",n=`--color: ${t[1]};--size:${t[3].size};--x:${t[3].x}px;--y:${t[3].y}px`)},m(s,l){k(s,e,l)},p(s,l){l&10&&n!==(n=`--color: ${s[1]};--size:${s[3].size};--x:${s[3].x}px;--y:${s[3].y}px`)&&m(e,"style",n)},d(s){s&&$(e)}}}function _t(t){let e,n=[],s=new Map,l,i,u,d=z(t[2]);const r=f=>f[10];for(let f=0;f<d.length;f+=1){let a=je(t,d,f),c=r(a);s.set(c,n[f]=ze(c,a))}let o=t[3].index!==null&&Ie(t);return{c(){e=b("div");for(let f=0;f<n.length;f+=1)n[f].c();i=N(),o&&o.c(),u=Ve(),m(e,"class",l=U(`rings ${t[0]?"vertical":""}`)+" svelte-1idn2yf")},m(f,a){k(f,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);k(f,i,a),o&&o.m(f,a),k(f,u,a)},p(f,[a]){a&28&&(d=z(f[2]),n=te(n,a,r,1,f,d,s,e,ee,ze,null,je)),a&1&&l!==(l=U(`rings ${f[0]?"vertical":""}`)+" svelte-1idn2yf")&&m(e,"class",l),f[3].index!==null?o?o.p(f,a):(o=Ie(f),o.c(),o.m(u.parentNode,u)):o&&(o.d(1),o=null)},i:O,o:O,d(f){f&&($(e),$(i),$(u));for(let a=0;a<n.length;a+=1)n[a].d();o&&o.d(f)}}}function ht(t,e,n){let s;T(t,he,a=>n(7,s=a));let{ws:l}=e,{color:i="red"}=e,{y:u=!1}=e,d=Array.from({length:3}).map(a=>[[2,i],[1,i],[0,i]]);fe.subscribe(a=>{let c=!0;a.forEach(_=>_.forEach(p=>{p.length!==0&&(c=!1)})),c&&n(2,d=Array.from({length:3}).map(_=>[[2,i],[1,i],[0,i]]))});let r={index:null,size:0,x:0,y:0};Be.subscribe(a=>{!a||a.item[1]!==i||(n(2,d[a.index]=d[a.index].filter(c=>c[0]!==a.item[0]),d),we(a.item,a.ringField))});const o=(a,c,_)=>{n(3,r.index=a,r),n(3,r.size=c,r);const{x:p,y:I}=_.target.getBoundingClientRect();n(3,r.x=p,r),n(3,r.y=I,r);const L=g=>{n(3,r.x=g.x,r),n(3,r.y=g.y,r)};document.addEventListener("mousemove",L),document.onmouseup=()=>{document.removeEventListener("mousemove",L),s!==null&&r.index!==null&&n(2,d[r.index]=d[r.index].filter(g=>{if(g[0]===r.size){const y=we(g,s);return y&&P.update(h=>(h.turn=!h.turn,h)),l.send(JSON.stringify({action:"step",data:{item:g,ringField:s,index:r.index}})),!y}return!0}),d),n(3,r.index=null,r)}},f=(a,c,_)=>o(a,c,_);return t.$$set=a=>{"ws"in a&&n(5,l=a.ws),"color"in a&&n(1,i=a.color),"y"in a&&n(0,u=a.y)},[u,i,d,r,o,l,f]}class se extends ue{constructor(e){super(),oe(this,e,ht,_t,x,{ws:5,color:1,y:0})}}function pt(t){let e,n=t[2].joined?"LEAVE":"JOIN",s,l,i,u;return{c(){e=b("button"),s=H(n),m(e,"class",l=U(t[2].joined?"leave":"")+" svelte-19q5ve5")},m(d,r){k(d,e,r),w(e,s),i||(u=q(e,"click",function(){pe(t[2].joined?t[5]:t[4])&&(t[2].joined?t[5]:t[4]).apply(this,arguments)}),i=!0)},p(d,r){t=d,r&4&&n!==(n=t[2].joined?"LEAVE":"JOIN")&&re(s,n),r&4&&l!==(l=U(t[2].joined?"leave":"")+" svelte-19q5ve5")&&m(e,"class",l)},d(d){d&&$(e),i=!1,u()}}}function mt(t){let e,n,s,l;return{c(){e=b("form"),n=b("input"),m(n,"type","text"),m(n,"placeholder","User id"),m(n,"class","svelte-19q5ve5"),m(e,"class","svelte-19q5ve5")},m(i,u){k(i,e,u),w(e,n),ye(n,t[1]),s||(l=[q(n,"input",t[8]),q(e,"submit",We(t[6]))],s=!0)},p(i,u){u&2&&n.value!==i[1]&&ye(n,i[1])},d(i){i&&$(e),s=!1,K(l)}}}function gt(t){let e,n,s,l=t[2].id+"",i,u,d,r;function o(c,_){return c[0]?mt:pt}let f=o(t),a=f(t);return{c(){e=b("div"),n=b("span"),s=b("b"),s.textContent="ID:",i=H(l),u=N(),a.c(),m(s,"class","svelte-19q5ve5"),m(n,"title","copy"),m(n,"class","svelte-19q5ve5"),m(e,"class","user svelte-19q5ve5")},m(c,_){k(c,e,_),w(e,n),w(n,s),w(n,i),w(e,u),a.m(e,null),d||(r=q(n,"click",t[3]),d=!0)},p(c,[_]){_&4&&l!==(l=c[2].id+"")&&re(i,l),f===(f=o(c))&&a?a.p(c,_):(a.d(1),a=f(c),a&&(a.c(),a.m(e,null)))},i:O,o:O,d(c){c&&$(e),a.d(),d=!1,r()}}}function yt(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function vt(t,e,n){let s;T(t,P,c=>n(2,s=c));let{ws:l}=e,i=!1,u="";const d=()=>{yt(s.id)},r=()=>{n(0,i=!0)},o=()=>{l.send(JSON.stringify({action:"leave"}))},f=()=>{l.send(JSON.stringify({action:"join",data:u})),n(0,i=!1),n(1,u="")};function a(){u=this.value,n(1,u)}return t.$$set=c=>{"ws"in c&&n(7,l=c.ws)},[i,u,s,d,r,o,f,l,a]}class bt extends ue{constructor(e){super(),oe(this,e,vt,gt,x,{ws:7})}}const ie=new WebSocket("ws://77.232.143.105:8080/"),wt=t=>{if(typeof t.data=="string"){const{action:e,data:n,error:s}=JSON.parse(t.data);switch(e){case"connect":const l=localStorage.getItem("id");if(l!==null&&l!==n&&!s){ie.send(JSON.stringify({action:"connect",data:l}));return}P.update(i=>(i.id=n,localStorage.setItem("id",i.id),i));break;case"join":n&&P.update(i=>(i.joined=n,i));break;case"leave":P.update(i=>(i.joined="",i.isPlaying=!1,i));break;case"step":Be.set(n),P.update(i=>(i.turn=!i.turn,i));break;case"start":P.update(i=>(i.turn=n,i.isPlaying=!0,i)),M.update(i=>!1),fe.set([[[],[],[]],[[],[],[]],[[],[],[]]]);break}return}t.data.text().then(e=>{console.log(e)})};function Ae(t){let e,n=t[1].turn?"Your turn":"Opponent's turn",s;return{c(){e=b("div"),s=H(n),m(e,"class","turn svelte-1un3ks4")},m(l,i){k(l,e,i),w(e,s)},p(l,i){i&2&&n!==(n=l[1].turn?"Your turn":"Opponent's turn")&&re(s,n)},d(l){l&&$(e)}}}function qe(t){let e,n,s=!t[1].isPlaying&&t[1].joined&&Me(t),l=t[2]&&Ce(t);return{c(){e=b("div"),s&&s.c(),n=N(),l&&l.c(),m(e,"class",U("block")+" svelte-1un3ks4")},m(i,u){k(i,e,u),s&&s.m(e,null),w(e,n),l&&l.m(e,null)},p(i,u){!i[1].isPlaying&&i[1].joined?s?s.p(i,u):(s=Me(i),s.c(),s.m(e,n)):s&&(s.d(1),s=null),i[2]?l?l.p(i,u):(l=Ce(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(i){i&&$(e),s&&s.d(),l&&l.d()}}}function Me(t){let e,n,s;return{c(){e=b("button"),e.textContent="PLAY",m(e,"class","play svelte-1un3ks4")},m(l,i){k(l,e,i),n||(s=q(e,"click",t[3]),n=!0)},p:O,d(l){l&&$(e),n=!1,s()}}}function Ce(t){let e,n=t[1].turn?"😥 YOU LOSE":"🏆 YOU WIN",s;return{c(){e=b("p"),s=H(n),m(e,"class","winMessage svelte-1un3ks4")},m(l,i){k(l,e,i),w(e,s)},p(l,i){i&2&&n!==(n=l[1].turn?"😥 YOU LOSE":"🏆 YOU WIN")&&re(s,n)},d(l){l&&$(e)}}}function $t(t){let e,n,s,l,i,u,d,r,o,f,a,c,_,p,I,L;n=new bt({props:{ws:t[0]}}),l=new se({props:{ws:t[0],color:"green"}});let g=t[1].isPlaying&&Ae(t);r=new se({props:{ws:t[0],y:!0,color:"red"}}),f=new dt({}),c=new se({props:{ws:t[0],y:!0,color:"yellow"}}),p=new se({props:{ws:t[0],color:"blue"}});let y=(t[2]||!t[1].isPlaying||!t[1].turn)&&qe(t);return{c(){e=b("main"),F(n.$$.fragment),s=N(),F(l.$$.fragment),i=N(),g&&g.c(),u=N(),d=b("div"),F(r.$$.fragment),o=N(),F(f.$$.fragment),a=N(),F(c.$$.fragment),_=N(),F(p.$$.fragment),I=N(),y&&y.c(),m(d,"class","wrapper svelte-1un3ks4"),m(e,"class","svelte-1un3ks4")},m(h,j){k(h,e,j),C(n,e,null),w(e,s),C(l,e,null),w(e,i),g&&g.m(e,null),w(e,u),w(e,d),C(r,d,null),w(d,o),C(f,d,null),w(d,a),C(c,d,null),w(e,_),C(p,e,null),w(e,I),y&&y.m(e,null),L=!0},p(h,[j]){const X={};j&1&&(X.ws=h[0]),n.$set(X);const Y={};j&1&&(Y.ws=h[0]),l.$set(Y),h[1].isPlaying?g?g.p(h,j):(g=Ae(h),g.c(),g.m(e,u)):g&&(g.d(1),g=null);const v={};j&1&&(v.ws=h[0]),r.$set(v);const E={};j&1&&(E.ws=h[0]),c.$set(E);const S={};j&1&&(S.ws=h[0]),p.$set(S),h[2]||!h[1].isPlaying||!h[1].turn?y?y.p(h,j):(y=qe(h),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(h){L||(A(n.$$.fragment,h),A(l.$$.fragment,h),A(r.$$.fragment,h),A(f.$$.fragment,h),A(c.$$.fragment,h),A(p.$$.fragment,h),L=!0)},o(h){R(n.$$.fragment,h),R(l.$$.fragment,h),R(r.$$.fragment,h),R(f.$$.fragment,h),R(c.$$.fragment,h),R(p.$$.fragment,h),L=!1},d(h){h&&$(e),J(n),J(l),g&&g.d(),J(r),J(f),J(c),J(p),y&&y.d()}}}function kt(t,e,n){let s,l;T(t,P,u=>n(1,s=u)),T(t,M,u=>n(2,l=u));const i=()=>{P.update(u=>(u.isPlaying=!0,u)),ie.send(JSON.stringify({action:"start"}))};return M.subscribe(u=>{u&&P.update(d=>(d.isPlaying=!1,d))}),ie.onmessage=wt,[ie,s,l,i]}class Ot extends ue{constructor(e){super(),oe(this,e,kt,$t,x,{})}}new Ot({target:document.getElementById("app")});
